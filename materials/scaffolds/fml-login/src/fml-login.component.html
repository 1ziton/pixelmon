<div class="login-container">
  <div class="login-header">
    <img src="https://yunying.fangmili.com/assets/img/logo.png" />
  </div>
  <div class="login-body">
    <div class="login-ctn" nz-row>
      <div nz-col nzSpan="12">
        <img src="http://ww1.sinaimg.cn/large/940e68eegy1g7bke1g362j20eo0flgpy.jpg" />
      </div>
      <div nz-col nzSpan="12">
        <div nz-row nzType="flex" nzJustify="center" nzAlign="middle">
          <div nzSpan="24">
            <form nz-col nz-form [formGroup]="loginForm" (ngSubmit)="login()">
              <nz-tabset (nzSelectedIndexChange)="onTabClick($event)">
                <nz-tab nzTitle="账号登录">
                  <nz-form-item>
                    <nz-form-control>
                      <input type="text" nz-input formControlName="username" placeholder="账号" />
                      <nz-form-explain *ngIf="loginForm.get('username')!.dirty && loginForm.get('username')!.errors"
                        >请输入账号！</nz-form-explain
                      >
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item>
                    <nz-form-control>
                      <input type="password" nz-input formControlName="password" placeholder="密码" />
                      <nz-form-explain *ngIf="loginForm.get('password')!.dirty && loginForm.get('password')!.errors"
                        >请输入密码！</nz-form-explain
                      >
                    </nz-form-control>
                  </nz-form-item>
                </nz-tab>
                <nz-tab nzTitle="手机号登录">
                  <nz-form-item>
                    <nz-form-control>
                      <input type="text" nz-input maxlength="11" formControlName="phoneNo" placeholder="手机号码" />
                      <nz-form-explain *ngIf="loginForm.get('phoneNo')!.dirty && loginForm.get('phoneNo')!.hasError('required')"
                        >请输入手机号码</nz-form-explain
                      >
                      <nz-form-explain *ngIf="loginForm.get('phoneNo')!.dirty && loginForm.get('phoneNo')!.hasError('pattern')"
                        >请输入11位数字</nz-form-explain
                      >
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item>
                    <nz-form-control>
                      <input class="verify-code-input" nz-input maxlength="6" formControlName="verifyCode" placeholder="验证码" />
                      <button
                        nz-button
                        class="verify-code-btn"
                        type="button"
                        [nzType]="'primary'"
                        [disabled]="cannotClick || loginForm.get('phoneNo')!.errors"
                        (click)="getVerifyCode()"
                      >
                        {{ getVerifyBtnStr }}
                      </button>
                      <nz-form-explain
                        class="padding-right-140"
                        *ngIf="loginForm.get('verifyCode')!.dirty && loginForm.get('verifyCode')!.hasError('required')"
                        >请输入验证码</nz-form-explain
                      >
                      <nz-form-explain
                        class="padding-right-140"
                        *ngIf="loginForm.get('verifyCode')!.dirty && loginForm.get('verifyCode')!.hasError('pattern')"
                        >请输入6位数字</nz-form-explain
                      >
                    </nz-form-control>
                  </nz-form-item>
                </nz-tab>
              </nz-tabset>
              <nz-form-item>
                <nz-form-control>
                  <label nz-checkbox formControlName="remember">
                    <span>自动登录</span>
                  </label>
                  <!--<a class="float-right">忘记密码?</a>-->
                  <button
                    nz-button
                    class="login-form-button"
                    [nzType]="'primary'"
                    type="submit"
                    [disabled]="!loginForm.valid"
                    [nzLoading]="loading"
                  >
                    登录
                  </button>
                </nz-form-control>
              </nz-form-item>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="login-footer">
    <p class="align-center">copyright&copy;{{ nowYear }} 方米立出品</p>
  </div>
</div>
